
#include <stdio.h>
#include <stdlib.h>
void  turn_on_vehicle();
void  turn_off_vehicle();
void quit();

char input;
char engine_status=0; //initial condition for engine=on
char quit_system=0;  //initial condition for system=on
char choice;
char traffic_color='R';
int room_temperature=25;
int engine_temperature=120;
char ac;
char Engine_Temperature_Controller;
int vehicle_speed;
int main(void) {
	setvbuf(stdout, NULL, _IONBF, 0);
	setvbuf(stderr, NULL, _IONBF, 0);
	//ask the user about the action he wants to do
	printf("a. Turn on the vehicle engine\n");
	printf("b. Turn off the vehicle engine\n");
	printf("c. Quit the system\n");
	scanf(" %c",&input);
	switch(input)
	{
	case 'a':
		turn_on_vehicle();
		break;
	case 'b':
		turn_off_vehicle();
		break;
	case 'c':
		quit();
		break;
	default:
		printf("invalid input \n");

	}
	while(!engine_status) //if the engine is off
	{
		//ask the user about the action he wants to do
		printf("a. Turn on the vehicle engine\n");
		printf("b. Turn off the vehicle engine\n");
		printf("c. Quit the system\n");
		scanf(" %c",&input);
		switch(input)
		{
		case 'a':
			turn_on_vehicle();
			break;
		case 'b':
			turn_off_vehicle();
			break;
		case 'c':
			quit();
			break;
		default:
			printf("invalid input \n");
		}
	}

	system_state(); //display the current system status

    while(quit_system==0)
    {
    printf("a. Turn off the engine\n");
    printf("b. Set the traffic light color\n");
    printf("c. Set the room temperature (Temperature Sensor)\n");
    printf("d. Set the engine temperature (Engine Temperature Sensor)\n");
	scanf(" %c",&choice);
	switch(choice)//menu to ask which choice you want
			{
			case 'a':
				turn_off_vehicle();
				break;
			case 'b':
				set_traffic_light_color();
				break;
			case 'c':
				set_room_temperatue();
				break;
			case 'd':
				set_engine_temperature();
				break;
			default:
				printf("invalid input \n");
			}

   based_on_traffic_light_data();






















	while((engine_status==0)&&(quit_system==0)) //if the engine is off and system is still on
		{
			//ask the user about the action he wants to do
			printf("a. Turn on the vehicle engine\n");
			printf("b. Turn off the vehicle engine\n");
			printf("c. Quit the system\n");
			scanf(" %c",&input);
			switch(input)
			{
			case 'a':
				turn_on_vehicle();
				break;
			case 'b':
				turn_off_vehicle();
				break;
			case 'c':
				quit();
				break;
			default:
				printf("invalid input \n");
			}
		}

    }


	return 0;
}

void  turn_on_vehicle()//function to turn on the engine
{
	engine_status=1;

}
void  turn_off_vehicle()//function to turn off the engine
{
	engine_status=0;
}
void quit()// function to quit system
{
	quit_system=1;
	engine_status=0;
}

void  system_state()//print current state
{
	if(engine_status==1)
		{
			printf("the vehicle is on \n");
		}
		else
		{
			printf("the vehicle is off \n");

		}
		if(quit_system==1)
		{
			printf("the system is off \n");

		}
		else
		{
			printf("the system is on \n");

		}


}
void set_traffic_light_color() //to set current traffic light
{
	printf("please enter the current traffic color G  O  R\n");
	scanf(" %c",&traffic_color);
}

void set_room_temperatue()//set room temperature
{
	printf("please enter the current room temperature\n");
	scanf(" %d",&room_temperature);
}

void set_engine_temperature() //set engine temperature
{
	printf("please enter the current engine temperature\n");
	scanf(" %d",&engine_temperature);
}
void based_on_traffic_light_data()//control vehicle speed
{
	if(traffic_color=='G')
	{
		vehicle_speed=100;
	}
	if(traffic_color=='O')
		{
			vehicle_speed=30;
		}
	if(traffic_color=='R')
		{
			vehicle_speed=0;
		}
}









